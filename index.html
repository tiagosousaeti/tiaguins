---
layout: default
title: Tiaguins
---

<section>
    <h2>Redirecionando...</h2>
      <div id="ad">
        <p>Publicidade — anunciante fictício</p>
        <p>Aguarde <span id="count">5</span> segundos — você será redirecionado.</p>
      </div>
</section>


<script>
    async function runRedirect() {
        const params = new URLSearchParams(window.location.search);
        const code = params.get("code");
        if (!code) {
            document.getElementById("ad").innerHTML += "<p>Adicione ?code=SEU_CODIGO à URL.</p>";
            return;
        }

        try {
            const res = await fetch("/redirects.json");
            const redirects = await res.json();
            const target = redirects[code];
            if (!target) {
                document.getElementById("ad").innerHTML += "<p>Código inválido.</p>";
                return;
            }

            let count = 5;
            const countEl = document.getElementById("count");
            const timer = setInterval(() => {
                count--;
                countEl.textContent = count;
                if (count <= 0) {
                    clearInterval(timer);
                    window.location.href = target;
                }
            }, 1000);
        } catch (e) {
            document.getElementById("ad").innerHTML += "<p>Erro ao carregar os redirecionamentos.</p>";
            console.error(e);
        }
    }
    runRedirect(); 
</script>